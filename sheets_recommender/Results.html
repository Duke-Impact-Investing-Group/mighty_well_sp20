<html>
    <div class="tab">
        <h1>Your Results!</h1>
        <h3>Enjoy these Mighty Well products and specially curated blog posts just for you!</h3>
        <section class = "blogContainer">
            <div class = "blog-image">
                <a href = "">
                    <img src = "">
                </a>
            </div>
            <div class = "blog-name">
                <a href="">
                    <h4></h4>
                </a>
            </div>
        </section>

        <section class="productContainer">
        </section>  
    
    <div id="template">
        <div id = "productCardTmp">
        <div class="product-card">
            <div class="product-image">
                <a href = ""> <img src = ""> </a> </div>
            <div class="product-info">
                <a href ="">
                <h5> </h5>
                </a>
            </div>
        </div>
        </div>  
    </div>


</html>

<style>
#template{
    display:none;
}
.productContainer{
  display: flex;
  flex-wrap: wrap;
}
@media (max-width: 920px) {
  .product-card {
    flex: 1 21%;
  }
}
.product-image img {
  max-width: 100%;
}

</style>

<script>
const CATALOG ={
        "PICCPerfect ": ["https://mighty-well.com/products/picc-line-cover-piccperfect-mighty-well?_pos=5&_sid=db99fc554&_ss=r", "https://blog.mighty-well.com/2017/07/adapting-to-the-picc-life/"],
        "MedPlanner":  ["https://mighty-well.com/collections/all/products/mighty-medplanner-medical-organizer","https://blog.mighty-well.com/2019/06/trying-out-the-mighty-medplanner-your-new-medical-organizer/"],
        "Mighty Pack ": ["https://mighty-well.com/collections/all/products/medical-iv-infusion-backpack-for-patients","https://blog.mighty-well.com/2018/12/travel-without-worries-with-the-mighty-pack-the-best-backpack-for-friends-in-the-fight/"],
        "Mighty Wrap": ["https://mighty-well.com/collections/all/products/the-mighty-jacket","https://blog.mighty-well.com/2017/06/learning-to-love-your-tube/"],
        "Undefeated Wear":["https://mighty-well.com/collections/all/products/undefeated-t-shirt-heather-gray","https://blog.mighty-well.com/2019/11/mighty-well-fall-photoshoot/"]
      }
      var productRec = ['PICCPerfect ','MedPlanner','Mighty Wrap'];
      const gridTable = {
          "PICCPerfect ":["PICCPerfect®: Antimicrobial PICC Line Covers", "https://cdn.shopify.com/s/files/1/1356/3483/products/ShopifyPICCPerfectThumbnail_300x.png?v=1586977666","Adapting to the PICC Life","https://blog.mighty-well.com/wp-content/uploads/2018/07/1-2.jpg"],
          "MedPlanner": ["The Mighty MedPlanner","https://cdn.shopify.com/s/files/1/1356/3483/products/mighty-med-case_300x.png?v=1553614326","Trying out the Mighty MedPlanner – Your New Medical Organizer","https://blog.mighty-well.com/wp-content/uploads/2019/06/75D30F9B-610F-4F5C-B644-15C5A0A6994E.jpeg"]
      }

function createGrid(){
    for(var i =0; i<Object.keys(gridTable).length; i++){
      var productName = productRec[i];
      var product = gridTable[productName];
      var productURL =  CATALOG[productName];
      var node = document.getElementById("productCardTmp").cloneNode(true);
      node.id = productName;
      node.querySelector(".product-image img").setAttribute("src", product[1]);
      node.querySelector(".product-image img").setAttribute("href", productURL[0]); //add link to image
      node.querySelector(".product-info h5").innerText = product[0];
      node.querySelector(".product-info a").setAttribute("href", productURL[0]); //add link to name
      document.querySelector(".productContainer").appendChild(node); //add new card 
      //document.getElementById(productName).getElementsByTagName('img').setAttribute("href", productURL[0]); //add link to image
      //document.getElementById(productName).getElementsByClassName("product-name").innerText = product[0]; // add product name
      //document.getElementById(productName).getElementsByClassName("product-name").setAttribute("href", productURL[0]); //add link to product name
    }
}

    function createBlog(){
        var productName = productRec[0];
        var product = gridTable[productName];
        var productURL = CATALOG[productName];
        document.querySelector(".blog-image img").setAttribute("src", product[3]); // add blog image
        document.querySelector(".blog-image a").setAttribute("href", productURL[1]); // add blog url to image
        document.querySelector(".blog-name h4").innerText = product[2]; // add blog name
        document.querySelector(".blog-name a").setAttribute("href", productURL[1]); // add blog url to name
    }
    createBlog();
    createGrid();
</script>